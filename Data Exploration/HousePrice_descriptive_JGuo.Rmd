---
title: "HousePrice_descriptive"
author: "GuoJennifer"
date: "2024-10-30"
output: html_document
---

```{r set-options, echo=FALSE, cache=FALSE}
options(width = 70)
```
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Data Download and Summary

Get data set.

```{r mysize=T,size='\\footnotesize', echo=T,eval=T}

setwd("~/Desktop/625 final project") 

#library(psych)
library(ggplot2)
library("corrplot")
library("gtsummary")
#library("dplyr")

data = read.csv(file="house_prices.csv",header=T)
attach(data)
head(data)
#summary(data)

df = data.frame(data)
```

##Cleaning and Encoding

Cleaning data and one-hot encoding for Furnishing/ Facing/ Overlooking

## Furnishing

Levels for Furnishing are either Unfurnished, Semi-Furnished, or Furnished
NA subjects are not removed, they simply have 0s in all columns of the one-hot matrix.

```{r mysize=T,size='\\footnotesize', echo=T,eval=T}
#summary(data$Furnishing)
#psych::describe(data$Furnishing)
data$Furnishing = as.factor(data$Furnishing)
unique(data$Furnishing)
ggplot(data, aes(x=Furnishing)) + geom_bar()

onehot_Furnishing = model.matrix(~Furnishing-1, data=df) [,-1]

```

## Facing

This is the cardinal direction that the home is facing. N,E,S,W, NE, NW, SE, SW.
NA subjects are not removed, they simply have 0s in all columns of the one-hot matrix.

```{r mysize=T,size='\\footnotesize', echo=T,eval=T}

#summary(data$facing)
data$facing = as.factor(data$facing)
unique(data$facing)

ggplot(data, aes(x=facing)) + geom_bar()

onehot_facing = model.matrix(~facing-1, data=df) [,-1]


```

## Overlooking

Overlooking can have multiple things listed for each home/subject. Each home may or may not overlook a "Garden/Park", "Main Road", and/or "Pool".
NA subjects are not removed, they simply have 0s in all columns of the one-hot matrix.

```{r mysize=T,size='\\footnotesize', echo=T,eval=T}

#summary(data$overlooking)
data$overlooking = as.factor(data$overlooking)
unique(data$overlooking)
#unique(unlist(strsplit(data$overlooking,", ")))

#ggplot(data, aes(x=overlooking)) + geom_bar()

onehot_overlooking = cbind(1*grepl("Garden/Park", data$overlooking), 1*grepl("Main Road", data$overlooking), 1*grepl("Pool", data$overlooking))
colnames(onehot_overlooking) = c("Garden/Park", "Main Road", "Pool")

#ggplot(onehot_overlooking, aes(x=onehot_overlooking)) + geom_bar()

```

## Write encoded data

```{r mysize=T,size='\\footnotesize', echo=T,eval=T}

encodedData = data.frame(onehot_Furnishing, onehot_facing, onehot_overlooking)

write.csv(encodedData, "encodedData.csv")

```



